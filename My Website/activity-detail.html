<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Activity Detail</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <h2>Portfolio of Mr. Natthakit Hiranyathiti</h2>
    <a href="Home.html" class="back-btn">กลับหน้ากิจกรรม</a>
  </nav>

  <section id="activity-container">
    <!-- เนื้อหากิจกรรมจะถูกเติมด้วย JS -->
  </section>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = Number(params.get('id'));

    const activities = {
      1: {
        title: "กิจกรรมที่ 1: เกมOverseer",
        img: ["overseer1.png","overseer2.png","overseer3.png"],
        desc: " เกมนี้เป็นผลงานที่กระผมสร้างขึ้นบน Roblox Studio โดยใช้ภาษา Lua ซึ่งเป็นภาษาที่ออกแบบมาสำหรับแพลตฟอร์ม Roblox โดยเฉพาะ ตัวเกมแบ่งออกเป็น 2 ฝั่ง คือ ฝั่งจุดเริ่มต้น และ ฝั่งเส้นชัย โดยจะมีผู้เล่นเพียง 1 คนเท่านั้นที่อยู่ฝั่งเส้นชัย ส่วนผู้เล่นที่เหลือจะเริ่มจากจุดเริ่มต้นและต้องพยายามไปให้ถึงเส้นชัย ขณะที่ผู้เล่นฝั่งเส้นชัยจะมีหน้าที่ขัดขวางไม่ให้คนอื่นเข้าเส้นชัยได้ เกมนี้มีการใช้ระบบต่าง ๆ มากมาย เช่น Data Storage สำหรับบันทึกข้อมูลของผู้เล่น เพื่อให้สามารถนำมาใช้ในการเล่นครั้งถัดไป รวมถึงใช้เป็นฐานข้อมูลสำหรับการทำงานของสคริปต์อื่น ๆ ที่ต้องเข้าถึงข้อมูลผู้เล่น TweenService สำหรับกำหนดค่าการเคลื่อนไหวของวัตถุ (Object) ให้สามารถเคลื่อนหรือขยับไปยังตำแหน่งที่ต้องการได้อย่างลื่นไหล ระบบการเคลื่อนย้ายเป็นกลุ่ม และระบบสร้างภารกิจ (Quest) ให้ผู้เล่น เพื่อเพิ่มความหลากหลายและความสนุกของเกม เพื่อไม่ให้เกมซ้ำซากหรือน่าเบื่อ กระผมได้เพิ่มระบบ สุ่มผู้เล่น 1 คนให้เป็น “ผู้ทรยศ” ในตอนจบของแต่ละรอบ โดยผู้ทรยศจะต้องหาวิธีเอาชนะให้ได้ หากภารกิจสำเร็จหรือเกมจบ ระบบจะประมวลผลและรีเซ็ตเพื่อเริ่มรอบใหม่ต่อไป ทำให้กระผมได้เรียนการเขียนเกี่ยวกับภาษาLuaระเอียดมากขึ้นและการส่งข้อมูลของผู้เล่นและฝั่งของเซิร์ฟเวอร์"
      },
      2: {
        title: "กิจกรรม 2: เกมเกาะร้าง",
        img: ["deserted island1.png","deserted island2.png","deserted island4.png"],
        desc: "เกมนี้เป็นอีกหนึ่งผลงานที่กระผมร่วมสร้างกับเพื่อน เป็นเกมแนว Hangout ซึ่งเป็นเกมที่ออกแบบมาเพื่อให้ผู้เล่นสามารถเข้ามาพบปะ พูดคุย และทำความรู้จักกับเพื่อนใหม่ ๆ ได้โดยเฉพาะ กระผมได้เพิ่มระบบเล็กน้อยเพื่อให้เกมมีความน่าสนใจมากขึ้น เช่น ระบบเงินภายในเกม สำหรับใช้ซื้อของตกแต่งและสิ่งของต่างๆ ระบบอุ้มผู้เล่นคนอื่น เพื่อเพิ่มความสนุกในการมีปฏิสัมพันธ์ระหว่างผู้เล่น ระบบเต้น ซึ่งเริ่มวางโครงสร้างไว้ตามคำแนะนำของผู้เล่นหลายคน เพราะระบบนี้ช่วยให้บรรยากาศภายในเกมดูมีสีสันและชีวิตชีวามากขึ้น การพัฒนาเกมนี้ทำให้กระผมได้ฝึกฝนการเขียน Script และการคิดเชิงตรรกะของโค้ดอย่างจริงจัง โดยเฉพาะการทำระบบที่ต้องส่งข้อมูลจากฝั่ง Server ไปยังฝั่ง Client (ผู้เล่น) ซึ่งเป็นเรื่องที่ซับซ้อนและต้องอาศัยความร่วมมือในการแก้ปัญหา กระผมและเพื่อนใช้เวลาช่วยกันคิดและแก้ไขปัญหาหลายอย่างอย่างทุ่มเท แม้จะเหนื่อยและรู้สึกปวดหัวในบางช่วง แต่เมื่อทำสำเร็จก็รู้สึกภาคภูมิใจและสนุกมาก"
      },
      3: {
        title: "กิจกรรม 3: เกมSomtam Adventure",
        img: ["somtam.png","somtam2.png","somtam3.png"],
        desc: "เกมนี้เป็นผลงานที่กระผมและเพื่อนร่วมกันสร้างขึ้นในช่วงเริ่มต้นของการเรียนรู้การพัฒนาเกม เป็นเกมแนวผจญภัยต่อสู้กับบอส (Adventure Boss Fight) ในรูปแบบ 2D โดยใช้โปรแกรม Construct 2 ในการพัฒนา รูปแบบการเล่นของเกมจะแบ่งออกเป็น 2 ตัวละคร ได้แก่ พระ และ นักมวย ซึ่งมีความสามารถที่แตกต่างกัน ตัวละครพระมีความสามารถในการเพิ่มพลังชีวิตให้กับทีม แต่มีพลังชีวิตน้อยและไม่สามารถโจมตีได้ ส่วนตัวละครนักมวยจะมีพลังโจมตีสูงและมีพลังชีวิตมากกว่า ผู้เล่นจะต้องใช้ความสามารถของทั้งสองตัวละครร่วมกันในการต่อสู้ เมื่อเริ่มเกม ระบบจะพาผู้เล่นเข้าสู่ด่านหลัก ซึ่งมีภารกิจคือการเอาชนะบอสที่มีรูปร่างเป็นฮิปโป พร้อมกับต้องเก็บเหรียญให้ครบทั้ง 3 เหรียญจึงจะผ่านด่านได้ หากผู้เล่นแพ้ เกมจะแสดงข้อความ “GAME OVER” และสามารถเลือกเริ่มใหม่หรือออกจากเกมได้"
      }
    };

    const container = document.getElementById('activity-container');
    if (activities[id]) {
      const act = activities[id];

      const imgsHTML = `
        <div class="slider">
          <div class="slides">
            ${act.img.map(src => `<img src="${src}" alt="${act.title}">`).join('')}
          </div>
        <button id="prev" class="slider-btn">&#10094;</button>
        <button id="next" class="slider-btn">&#10095;</button>
      </div>
      `;

      container.innerHTML = `
        <div class="activity-detail">
          <h1>${act.title}</h1>
          <div class="activity-content">
            ${imgsHTML}  <!-- <-- ใช้ตัวแปร imgsHTML แทน <img> เดียว -->
            <div class="activity-text">
              <p>${act.desc}</p>
            </div>
          </div>
        </div>
      `;
      setTimeout(() => {
      const slides = document.querySelector('.slides');
      const total = act.img.length;
      let index = 0;

      document.getElementById('next').addEventListener('click', () => {
        index = (index + 1) % total;
        slides.style.transform = `translateX(${-index * 100}%)`;
      });

      document.getElementById('prev').addEventListener('click', () => {
        index = (index - 1 + total) % total;
        slides.style.transform = `translateX(${-index * 100}%)`;
      });
    }, 100);
    } else {
      container.innerHTML = "<p>ไม่พบกิจกรรมนี้</p>";
    }

  </script>
</body>
</html>